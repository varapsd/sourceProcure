(this.webpackJsonpbeenuthunt=this.webpackJsonpbeenuthunt||[]).push([[0],{28:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(11),i=n.n(s),r=(n(40),n.p,n(41),n(1));var h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))},o=n(30),j=n(31),l=n(9),d=n(35),b=n(34),u=n(70),O=n(32),m=(n(43),n(73)),x=n(74);var g=function(e){var t=document.getElementById("pin");return console.log(t),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)(m.a,{onSubmit:function(t){t.preventDefault();var n=new FormData(t.target),a=Object.fromEntries(n.entries());console.log(a),e.search(a)},children:[Object(r.jsxs)(m.a.Group,{as:u.a,controlId:"formPlaintextName",children:[Object(r.jsx)(m.a.Label,{column:!0,sm:"1",children:"Name"}),Object(r.jsx)(O.a,{sm:"5",children:Object(r.jsx)(m.a.Control,{type:"text",placeholder:"Name",name:"name"})}),Object(r.jsx)(m.a.Label,{column:!0,sm:"1",children:"Phone"}),Object(r.jsx)(O.a,{sm:"5",children:Object(r.jsx)(m.a.Control,{type:"number",required:!0,placeholder:"Phone",name:"phone"})})]}),Object(r.jsxs)(m.a.Group,{as:u.a,controlId:"formPlaintextEmail",children:[Object(r.jsx)(m.a.Label,{column:!0,sm:"1",children:"Email"}),Object(r.jsx)(O.a,{sm:"5",children:Object(r.jsx)(m.a.Control,{type:"email",required:!0,placeholder:"email",name:"email"})}),Object(r.jsx)(m.a.Label,{column:!0,sm:"1",children:"Pincode"}),Object(r.jsx)(O.a,{sm:"5",children:Object(r.jsx)(m.a.Control,{type:"number",required:!0,placeholder:"Pincode",onChange:function(e){return t=e.target.value},name:"pin"})})]}),Object(r.jsx)(x.a,{className:"right",type:"submit",children:"Submit"})]}),Object(r.jsx)("hr",{})]})},p=n(19),f=n(72),v=n(12),D=n.n(v);var L=function(e){var t=Object(a.useState)(!1),n=Object(p.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),h=Object(p.a)(i,2),o=h[0],j=h[1],l=function(){return s(!1)},d=function(t){"admin"==t.uName?D.a.post("/adminLogin",t).then((function(t){t.data.isSuccess?(j(!1),e.adminDataSet(t)):j(!0)})):(console.log(t),D.a.post("/login",t).then((function(t){t.data.isSuccess?(j(!1),e.branchDataSet(t)):j(!0)})))};return Object(r.jsxs)("div",{children:[Object(r.jsx)(x.a,{variant:"outline-primary",onClick:function(){return s(!0)},children:"Login"}),Object(r.jsxs)(f.a,{show:c,onHide:l,animation:!1,children:[Object(r.jsx)(f.a.Header,{closeButton:!0,children:Object(r.jsx)(f.a.Title,{children:"Login"})}),Object(r.jsx)(f.a.Body,{children:Object(r.jsxs)(m.a,{onSubmit:function(e){e.preventDefault();var t=new FormData(e.target),n=Object.fromEntries(t.entries());d(n)},children:[Object(r.jsxs)(m.a.Group,{as:u.a,className:"mb-3",controlId:"formPlaintextEmail",children:[Object(r.jsx)(m.a.Label,{column:!0,sm:"2",children:"Email"}),Object(r.jsx)(O.a,{sm:"10",children:Object(r.jsx)(m.a.Control,{type:"text",placeholder:"email",name:"uName"})})]}),Object(r.jsxs)(m.a.Group,{as:u.a,className:"mb-3",controlId:"formPlaintextPassword",children:[Object(r.jsx)(m.a.Label,{column:!0,sm:"2",children:"Password"}),Object(r.jsx)(O.a,{sm:"10",children:Object(r.jsx)(m.a.Control,{type:"password",placeholder:"Password",name:"passwd"})})]}),Object(r.jsx)(x.a,{variant:"secondary",onClick:l,children:"Close"}),Object(r.jsx)(x.a,{variant:"primary",type:"submit",children:"Login"})]})}),Object(r.jsx)(f.a.Footer,{children:o&&Object(r.jsx)("p",{children:"Login failed"})})]})]})},S=n(71);var N=function(e){for(var t=[],n=0;n<e.branches.length;n++){var a=[];a.push(e.branches[n].branchName),a.push(e.branches[n].branchInchanrge);for(var c="",s=0;s<e.branches[n].contactNumbers.length;s++)c+=0==s?e.branches[n].contactNumbers[s]:"/ "+e.branches[n].contactNumbers[s];a.push(c);var i=e.branches[n].city+" "+e.branches[n].address;a.push(i),t.push(a)}return console.log(t),Object(r.jsxs)("div",{children:[Object(r.jsx)("h5",{children:"Results"}),function(){if(console.log(e),e.isSearch&&0==e.branches.length)return Object(r.jsx)("div",{children:"Bad Bad Luck, No Donut for you!!"})}(),e.branches.length>0&&Object(r.jsxs)(S.a,{striped:!0,bordered:!0,hover:!0,children:[e.branches.map((function(e){console.log(e)})),Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Branch Name"}),Object(r.jsx)("th",{children:"Incharge"}),Object(r.jsx)("th",{children:"Contact Numbers"}),Object(r.jsx)("th",{children:"Address"})]})}),Object(r.jsx)("tbody",{children:t.map((function(e){return Object(r.jsx)("tr",{children:e.map((function(e){return Object(r.jsx)("td",{children:e})}))})}))})]})]})};n(28);var y=function(e){console.log(e.branchData);for(var t=[],n=e.branchData.notifications.length;n>0;n--){var a=[],c=e.branchData.notifications[n-1];a.push(c.name),a.push(c.phone),a.push(c.email),a.push(c.pin),t.push(a)}var s=e.branchData.newNotificaitons.length;return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)(u.a,{children:[Object(r.jsx)(O.a,{children:Object(r.jsx)("h1",{children:"Branch Home Page"})}),Object(r.jsx)(O.a,{sm:"1",children:Object(r.jsx)(x.a,{onClick:function(){e.logout()},children:"logout"})})]}),Object(r.jsx)("hr",{}),Object(r.jsxs)(u.a,{children:[Object(r.jsxs)(O.a,{sm:"3",children:[Object(r.jsx)(u.a,{children:Object(r.jsxs)(O.a,{children:[Object(r.jsx)("b",{children:"Branch Name : "}),e.branchData.branchData.branchName]})}),Object(r.jsx)(u.a,{children:Object(r.jsxs)(O.a,{children:[Object(r.jsx)("b",{children:"Incharge Name : "}),e.branchData.branchData.branchInchanrge]})})]}),Object(r.jsxs)(O.a,{children:[Object(r.jsx)(u.a,{children:Object(r.jsx)("b",{children:"Contact Number:"})}),Object(r.jsx)(u.a,{children:e.branchData.branchData.contactNumbers.map((function(e){return e+","}))})]}),Object(r.jsxs)(O.a,{children:[Object(r.jsx)(u.a,{children:Object(r.jsx)("b",{children:"Pin Codes :"})}),Object(r.jsx)(u.a,{children:e.branchData.branchData.Pincodes.map((function(e){return e+","}))})]}),Object(r.jsxs)(O.a,{children:[Object(r.jsxs)(u.a,{children:[Object(r.jsx)("b",{children:"City :"}),e.branchData.branchData.city]}),Object(r.jsxs)(u.a,{children:[Object(r.jsx)("b",{children:"Address : "}),e.branchData.branchData.address]})]})]}),Object(r.jsx)("hr",{}),Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{className:"h3",children:"Notifications"})," *colored are new notifications"]}),Object(r.jsx)("span",{children:Object(r.jsx)("div",{children:Object(r.jsxs)(S.a,{children:[Object(r.jsx)("thead",{class:"thead-dark",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Phone"}),Object(r.jsx)("th",{children:"Email"}),Object(r.jsx)("th",{children:"Search Pin"})]})}),Object(r.jsx)("tbody",{children:t.map((function(e){return t=e,0<s--?Object(r.jsx)("tr",{className:"selectedRow",children:t.map((function(e){return Object(r.jsx)("td",{children:e})}))}):Object(r.jsx)("tr",{className:"notselected",children:t.map((function(e){return Object(r.jsx)("td",{children:e})}))});var t}))})]})})})]})};var P=function(e){console.log("admin"),console.log(e);for(var t=[],n=e.adminData.notifications.length;n>0;n--){var a=[],c=e.adminData.notifications[n-1];a.push(c.name),a.push(c.phone),a.push(c.email),a.push(c.pin),t.push(a)}var s=e.adminData.newNotificaitons.length;return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)(u.a,{children:[Object(r.jsx)(O.a,{children:Object(r.jsx)("h1",{children:"AdminHome Home Page"})}),Object(r.jsx)(O.a,{sm:"1",children:Object(r.jsx)(x.a,{onClick:function(){e.logout()},children:"logout"})})]}),Object(r.jsx)("hr",{}),Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{className:"h3",children:"Notifications"})," *colored are new notifications"]}),Object(r.jsx)("span",{children:Object(r.jsx)("div",{children:Object(r.jsxs)(S.a,{children:[Object(r.jsx)("thead",{class:"thead-dark",children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"Name"}),Object(r.jsx)("th",{children:"Phone"}),Object(r.jsx)("th",{children:"Email"}),Object(r.jsx)("th",{children:"Search Pin"})]})}),Object(r.jsx)("tbody",{children:t.map((function(e){return t=e,0<s--?Object(r.jsx)("tr",{className:"selectedRow",children:t.map((function(e){return Object(r.jsx)("td",{children:e})}))}):Object(r.jsx)("tr",{className:"notselected",children:t.map((function(e){return Object(r.jsx)("td",{children:e})}))});var t}))})]})})})]})},C=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={branches:[],isBranchLogin:!1,branchLogin:null,isAdminLogin:!1,adminData:null,isSearch:!1},a.search=a.search.bind(Object(l.a)(a)),a.login=a.login.bind(Object(l.a)(a)),a.branchLogout=a.branchLogout.bind(Object(l.a)(a)),a.branchDataSet=a.branchDataSet.bind(Object(l.a)(a)),a.adminDataSet=a.adminDataSet.bind(Object(l.a)(a)),a.adminLogout=a.adminLogout.bind(Object(l.a)(a)),a}return Object(j.a)(n,[{key:"search",value:function(e){var t=this;D.a.post("/search",e).then((function(e){t.setState({branches:e.data,isSearch:!0})}))}},{key:"login",value:function(e){var t=this;"admin"==e.uName?D.a.post("http://localhost:8080/adminLogin",e).then((function(e){e.data.isSuccess?t.setState({isAdminLogin:!0,adminData:e.data}):t.setState({isLoginFailed:!0})})):(console.log(e),D.a.post("http://localhost:8080/login",e).then((function(e){e.data.isSuccess?t.setState({isBranchLogin:!0,branchLogin:e.data}):t.setState({isLoginFailed:!0})})))}},{key:"branchDataSet",value:function(e){this.setState({isBranchLogin:!0,branchLogin:e.data,isAdminLogin:!1})}},{key:"branchLogout",value:function(){this.setState({isBranchLogin:!1,branchLogin:null,isSearch:!1,branches:[]})}},{key:"adminDataSet",value:function(e){console.log(e),this.setState({isAdminLogin:!0,adminData:e.data,isBranchLogin:!1})}},{key:"adminLogout",value:function(){this.setState({isAdminLogin:!1,adminData:null,isSearch:!1,branches:[]})}},{key:"render",value:function(){return this.state.isAdminLogin?Object(r.jsx)("div",{children:Object(r.jsx)(P,{logout:this.adminLogout,adminData:this.state.adminData})}):this.state.isBranchLogin?Object(r.jsx)("div",{children:Object(r.jsx)(y,{logout:this.branchLogout,branchData:this.state.branchLogin})}):Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)(u.a,{children:[Object(r.jsx)(O.a,{className:"h1",children:"Welcome to the Beenut Hunt"}),Object(r.jsx)(O.a,{sm:"1",children:Object(r.jsx)(L,{adminDataSet:this.adminDataSet,branchDataSet:this.branchDataSet})})]}),Object(r.jsx)(u.a,{children:Object(r.jsx)(O.a,{className:"text-center h5",children:"Search for branches with pincodes"})}),Object(r.jsx)(g,{search:this.search}),Object(r.jsx)(N,{branches:this.state.branches,isSearch:this.state.isSearch})]})}}]),n}(c.a.Component);n(29),n(65);i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(C,{})}),document.getElementById("root")),h()}},[[67,1,2]]]);
//# sourceMappingURL=main.16df2c65.chunk.js.map